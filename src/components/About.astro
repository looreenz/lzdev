---
import me from "../assets/me.jpeg";
---

{/* AÃ±adimos un contenedor para el ScrollTrigger */}
<div id="about-section-trigger">
  <section
    class="flex flex-col justify-center items-center gap-10 p-5 min-h-screen max-w-5xl mx-auto"
  >
    {/* Damos IDs a los elementos que vamos a animar */}
    <h2 id="about-title" class="title">Sobre mi</h2>
    <div class="flex items-center gap-20 text-lg">
      <img
        id="about-image"
        src={me.src}
        alt="Lorenzo Cremonese"
        class="size-64 rounded-full aspect-square object-cover object-top shadow-lg"
      />
      <div class="flex flex-col">
        {/* Usamos una clase comÃºn para los pÃ¡rrafos */}
        <p class="about-text mt-5">
          Me llamo Lorenzo Cremonese, Desarrollador de Aplicaciones Web italiano
          ğŸ‡®ğŸ‡¹, viviendo en EspaÃ±a ğŸ‡ªğŸ‡¸.
        </p>
        <p class="about-text mt-5">
          Me apasiona crear proyectos que unan tecnologÃ­a y creatividad, con la
          meta de crecer profesionalmente, explorando la inteligencia
          artificial, la ciberseguridad y el diseÃ±o de soluciones que hagan la
          vida mÃ¡s simple.
        </p>
        <p class="about-text mt-5">
          Fuera del cÃ³digo, encuentro disciplina en la calistenia ğŸ‹ğŸ»â€â™‚ï¸, motivaciÃ³n
          en el aprendizaje de idiomas ğŸŒ, inspiraciÃ³n en la mÃºsica ğŸ¹ y
          adrenalina en el mundo de los motores ğŸï¸.
        </p>
        <p class="about-text">
          Soy curioso, constante y siempre busco crecer, dentro y fuera de la
          pantalla.
        </p>
      </div>
    </div>
  </section>
</div>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  // Registramos el plugin de ScrollTrigger
  gsap.registerPlugin(ScrollTrigger);

  document.addEventListener("DOMContentLoaded", () => {
    // Creamos una lÃ­nea de tiempo para la secciÃ³n "Sobre mi"
    const aboutTl = gsap.timeline({
      scrollTrigger: {
        trigger: "#about-section-trigger", // El elemento que activa la animaciÃ³n
        start: "top center", // La animaciÃ³n empieza cuando el top del trigger llega al centro de la pantalla
        toggleActions: "play none none none", // La animaciÃ³n se reproduce una vez y no se revierte
      },
    });

    // AnimaciÃ³n del tÃ­tulo
    aboutTl.from("#about-title", {
      opacity: 0,
      y: 50, // Se desliza desde abajo
      duration: 0.8,
      ease: "power3.out",
    });

    // AnimaciÃ³n de la imagen
    aboutTl.from(
      "#about-image",
      {
        opacity: 0,
        scale: 0.8, // Aparece escalando
        duration: 1,
        ease: "elastic.out(1, 0.75)",
      },
      "-=0.5" // Empieza 0.5s antes de que termine la animaciÃ³n anterior
    );

    // AnimaciÃ³n escalonada de los pÃ¡rrafos
    aboutTl.from(
      ".about-text",
      {
        opacity: 0,
        y: 20,
        duration: 0.6,
        ease: "power3.out",
        stagger: 0.2, // Retraso de 0.2s entre cada pÃ¡rrafo
      },
      "-=0.5" // Empieza un poco despuÃ©s de que inicie la de la imagen
    );
  });
</script>
