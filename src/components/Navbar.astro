<nav
  id="navbar"
  class="fixed top-2 left-1/2 transform -translate-x-1/2 z-50 rounded-full bg-black/20 backdrop-blur-lg shadow-lg"
>
  <div class="flex justify-between items-center h-16 px-6">
    <!-- Logo -->
    <div class="flex-shrink-0 px-4">
      <a
        href="/"
        class="nav-link text-2xl font-bold text-light hover:text-orange-400 transition-colors duration-300"
      >
        LZ
      </a>
    </div>

    <!-- Desktop menu -->
    <div class="hidden sm:flex space-x-8">
      <a
        href="/about"
        class="nav-link text-light hover:text-orange-400 px-3 py-2 text-sm font-medium transition-colors duration-300"
        >About</a
      >
      <a
        href="/projects"
        class="nav-link text-light hover:text-orange-400 px-3 py-2 text-sm font-medium transition-colors duration-300"
        >Projects</a
      >
      <a
        href="/contact"
        class="nav-link text-light hover:text-orange-400 px-3 py-2 text-sm font-medium transition-colors duration-300"
        >Contact</a
      >
    </div>

    <!-- Mobile menu button -->
    <div class="sm:hidden">
      <button
        id="mobile-menu-button"
        type="button"
        class="text-light hover:text-orange-400"
        aria-label="Open menu"
      >
        <svg
          class="h-6 w-6"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- Mobile menu -->
  <div id="mobile-menu" class="sm:hidden hidden px-2 pt-2 pb-3 space-y-1">
    <a
      href="/about"
      class="block text-light hover:text-orange-400 px-3 py-2 text-base font-medium transition-colors duration-300"
      >About</a
    >
    <a
      href="/projects"
      class="block text-light hover:text-orange-400 px-3 py-2 text-base font-medium transition-colors duration-300"
      >Projects</a
    >
    <a
      href="/contact"
      class="block text-light hover:text-orange-400 px-3 py-2 text-base font-medium transition-colors duration-300"
      >Contact</a
    >
  </div>
</nav>

<script>
  import { gsap } from "gsap";

  document.addEventListener("DOMContentLoaded", () => {
    // Animación de entrada para la barra de navegación
    gsap.from("#navbar", {
      y: -100, // Empieza 100px por encima de su posición final
      opacity: 0,
      duration: 1,
      delay: 1, // Retraso para que aparezca después del contenido principal
      ease: "power3.out",
    });

    // Hover animations for nav links
    const navLinks = document.querySelectorAll(".nav-link");
    navLinks.forEach((link) => {
      link.addEventListener("mouseenter", () => {
        gsap.to(link, { y: -3, duration: 0.3, ease: "power2.out" });
      });
      link.addEventListener("mouseleave", () => {
        gsap.to(link, { y: 0, duration: 0.3, ease: "power2.out" });
      });
    });

    // Funcionalidad y animación del menú móvil
    const mobileMenuButton = document.getElementById("mobile-menu-button");
    const mobileMenu = document.getElementById("mobile-menu");
    let isMenuOpen = false;

    // Timeline de GSAP para la animación del menú móvil
    const mobileMenuTimeline = gsap.timeline({ paused: true });

    mobileMenuTimeline
      .to(mobileMenu, {
        height: "auto",
        opacity: 1,
        duration: 0.4,
        ease: "power3.out",
        onStart: () => mobileMenu?.classList.remove("hidden"),
      })
      .from(
        mobileMenu?.children,
        {
          y: -20,
          opacity: 0,
          duration: 0.3,
          stagger: 0.1,
          ease: "power2.out",
        },
        "-=0.2"
      );

    mobileMenuButton?.addEventListener("click", () => {
      isMenuOpen = !isMenuOpen;
      if (isMenuOpen) {
        mobileMenuTimeline.play();
      } else {
        mobileMenuTimeline.reverse();
      }
    });
  });
</script>
